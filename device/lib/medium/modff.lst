                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.3.1 #8898 (Nov 27 2013) (Linux)
                                      4 ; This file was generated Wed Nov 27 12:27:53 2013
                                      5 ;--------------------------------------------------------
                                      6 	.module modff
                                      7 	.optsdcc -mmcs51 --model-medium
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _modff_PARM_2
                                     13 	.globl _modff
                                     14 ;--------------------------------------------------------
                                     15 ; special function registers
                                     16 ;--------------------------------------------------------
                                     17 	.area RSEG    (ABS,DATA)
      000000                         18 	.org 0x0000
                                     19 ;--------------------------------------------------------
                                     20 ; special function bits
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; overlayable register banks
                                     26 ;--------------------------------------------------------
                                     27 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         28 	.ds 8
                                     29 ;--------------------------------------------------------
                                     30 ; internal ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area DSEG    (DATA)
      000000                         33 _modff_sloc0_1_0:
      000000                         34 	.ds 3
                                     35 ;--------------------------------------------------------
                                     36 ; overlayable items in internal ram 
                                     37 ;--------------------------------------------------------
                                     38 ;--------------------------------------------------------
                                     39 ; indirectly addressable internal ram data
                                     40 ;--------------------------------------------------------
                                     41 	.area ISEG    (DATA)
                                     42 ;--------------------------------------------------------
                                     43 ; absolute internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area IABS    (ABS,DATA)
                                     46 	.area IABS    (ABS,DATA)
                                     47 ;--------------------------------------------------------
                                     48 ; bit data
                                     49 ;--------------------------------------------------------
                                     50 	.area BSEG    (BIT)
                                     51 ;--------------------------------------------------------
                                     52 ; paged external ram data
                                     53 ;--------------------------------------------------------
                                     54 	.area PSEG    (PAG,XDATA)
      000000                         55 _modff_PARM_2:
      000000                         56 	.ds 3
      000003                         57 _modff_x_1_23:
      000003                         58 	.ds 4
                                     59 ;--------------------------------------------------------
                                     60 ; external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
                                     63 ;--------------------------------------------------------
                                     64 ; absolute external ram data
                                     65 ;--------------------------------------------------------
                                     66 	.area XABS    (ABS,XDATA)
                                     67 ;--------------------------------------------------------
                                     68 ; external initialized ram data
                                     69 ;--------------------------------------------------------
                                     70 	.area XISEG   (XDATA)
                                     71 	.area HOME    (CODE)
                                     72 	.area GSINIT0 (CODE)
                                     73 	.area GSINIT1 (CODE)
                                     74 	.area GSINIT2 (CODE)
                                     75 	.area GSINIT3 (CODE)
                                     76 	.area GSINIT4 (CODE)
                                     77 	.area GSINIT5 (CODE)
                                     78 	.area GSINIT  (CODE)
                                     79 	.area GSFINAL (CODE)
                                     80 	.area CSEG    (CODE)
                                     81 ;--------------------------------------------------------
                                     82 ; global & static initialisations
                                     83 ;--------------------------------------------------------
                                     84 	.area HOME    (CODE)
                                     85 	.area GSINIT  (CODE)
                                     86 	.area GSFINAL (CODE)
                                     87 	.area GSINIT  (CODE)
                                     88 ;--------------------------------------------------------
                                     89 ; Home
                                     90 ;--------------------------------------------------------
                                     91 	.area HOME    (CODE)
                                     92 	.area HOME    (CODE)
                                     93 ;--------------------------------------------------------
                                     94 ; code
                                     95 ;--------------------------------------------------------
                                     96 	.area CSEG    (CODE)
                                     97 ;------------------------------------------------------------
                                     98 ;Allocation info for local variables in function 'modff'
                                     99 ;------------------------------------------------------------
                                    100 ;sloc0                     Allocated with name '_modff_sloc0_1_0'
                                    101 ;------------------------------------------------------------
                                    102 ;	modff.c:33: float modff(float x, float * y)
                                    103 ;	-----------------------------------------
                                    104 ;	 function modff
                                    105 ;	-----------------------------------------
      000000                        106 _modff:
                           000007   107 	ar7 = 0x07
                           000006   108 	ar6 = 0x06
                           000005   109 	ar5 = 0x05
                           000004   110 	ar4 = 0x04
                           000003   111 	ar3 = 0x03
                           000002   112 	ar2 = 0x02
                           000001   113 	ar1 = 0x01
                           000000   114 	ar0 = 0x00
      000000 AF 82            [24]  115 	mov	r7,dpl
      000002 AE 83            [24]  116 	mov	r6,dph
      000004 AD F0            [24]  117 	mov	r5,b
      000006 FC               [12]  118 	mov	r4,a
      000007 78r03            [12]  119 	mov	r0,#_modff_x_1_23
      000009 EF               [12]  120 	mov	a,r7
      00000A F2               [24]  121 	movx	@r0,a
      00000B 08               [12]  122 	inc	r0
      00000C EE               [12]  123 	mov	a,r6
      00000D F2               [24]  124 	movx	@r0,a
      00000E 08               [12]  125 	inc	r0
      00000F ED               [12]  126 	mov	a,r5
      000010 F2               [24]  127 	movx	@r0,a
      000011 08               [12]  128 	inc	r0
      000012 EC               [12]  129 	mov	a,r4
      000013 F2               [24]  130 	movx	@r0,a
                                    131 ;	modff.c:35: *y=(long)x;
      000014 78r00            [12]  132 	mov	r0,#_modff_PARM_2
      000016 E2               [24]  133 	movx	a,@r0
      000017 F5*00            [12]  134 	mov	_modff_sloc0_1_0,a
      000019 08               [12]  135 	inc	r0
      00001A E2               [24]  136 	movx	a,@r0
      00001B F5*01            [12]  137 	mov	(_modff_sloc0_1_0 + 1),a
      00001D 08               [12]  138 	inc	r0
      00001E E2               [24]  139 	movx	a,@r0
      00001F F5*02            [12]  140 	mov	(_modff_sloc0_1_0 + 2),a
      000021 78r03            [12]  141 	mov	r0,#_modff_x_1_23
      000023 E2               [24]  142 	movx	a,@r0
      000024 F5 82            [12]  143 	mov	dpl,a
      000026 08               [12]  144 	inc	r0
      000027 E2               [24]  145 	movx	a,@r0
      000028 F5 83            [12]  146 	mov	dph,a
      00002A 08               [12]  147 	inc	r0
      00002B E2               [24]  148 	movx	a,@r0
      00002C F5 F0            [12]  149 	mov	b,a
      00002E 08               [12]  150 	inc	r0
      00002F E2               [24]  151 	movx	a,@r0
      000030 12r00r00         [24]  152 	lcall	___fs2slong
      000033 12r00r00         [24]  153 	lcall	___slong2fs
      000036 AC 82            [24]  154 	mov	r4,dpl
      000038 AD 83            [24]  155 	mov	r5,dph
      00003A AE F0            [24]  156 	mov	r6,b
      00003C FF               [12]  157 	mov	r7,a
      00003D 85*00 82         [24]  158 	mov	dpl,_modff_sloc0_1_0
      000040 85*01 83         [24]  159 	mov	dph,(_modff_sloc0_1_0 + 1)
      000043 85*02 F0         [24]  160 	mov	b,(_modff_sloc0_1_0 + 2)
      000046 EC               [12]  161 	mov	a,r4
      000047 12r00r00         [24]  162 	lcall	__gptrput
      00004A A3               [24]  163 	inc	dptr
      00004B ED               [12]  164 	mov	a,r5
      00004C 12r00r00         [24]  165 	lcall	__gptrput
      00004F A3               [24]  166 	inc	dptr
      000050 EE               [12]  167 	mov	a,r6
      000051 12r00r00         [24]  168 	lcall	__gptrput
      000054 A3               [24]  169 	inc	dptr
      000055 EF               [12]  170 	mov	a,r7
      000056 12r00r00         [24]  171 	lcall	__gptrput
                                    172 ;	modff.c:36: return (x-*y);
      000059 C0 04            [24]  173 	push	ar4
      00005B C0 05            [24]  174 	push	ar5
      00005D C0 06            [24]  175 	push	ar6
      00005F C0 07            [24]  176 	push	ar7
      000061 78r03            [12]  177 	mov	r0,#_modff_x_1_23
      000063 E2               [24]  178 	movx	a,@r0
      000064 F5 82            [12]  179 	mov	dpl,a
      000066 08               [12]  180 	inc	r0
      000067 E2               [24]  181 	movx	a,@r0
      000068 F5 83            [12]  182 	mov	dph,a
      00006A 08               [12]  183 	inc	r0
      00006B E2               [24]  184 	movx	a,@r0
      00006C F5 F0            [12]  185 	mov	b,a
      00006E 08               [12]  186 	inc	r0
      00006F E2               [24]  187 	movx	a,@r0
      000070 12r00r00         [24]  188 	lcall	___fssub
      000073 AC 82            [24]  189 	mov	r4,dpl
      000075 AD 83            [24]  190 	mov	r5,dph
      000077 AE F0            [24]  191 	mov	r6,b
      000079 FF               [12]  192 	mov	r7,a
      00007A E5 81            [12]  193 	mov	a,sp
      00007C 24 FC            [12]  194 	add	a,#0xfc
      00007E F5 81            [12]  195 	mov	sp,a
      000080 8C 82            [24]  196 	mov	dpl,r4
      000082 8D 83            [24]  197 	mov	dph,r5
      000084 8E F0            [24]  198 	mov	b,r6
      000086 EF               [12]  199 	mov	a,r7
      000087 22               [24]  200 	ret
                                    201 	.area CSEG    (CODE)
                                    202 	.area CONST   (CODE)
                                    203 	.area XINIT   (CODE)
                                    204 	.area CABS    (ABS,CODE)
