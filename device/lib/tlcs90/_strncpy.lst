                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.3.1 #8898 (Nov 27 2013) (Linux)
                              4 ; This file was generated Wed Nov 27 12:28:24 2013
                              5 ;--------------------------------------------------------
                              6 	.module _strncpy
                              7 	.optsdcc -mtlcs90
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _strncpy
                             13 ;--------------------------------------------------------
                             14 ; ram data
                             15 ;--------------------------------------------------------
                             16 	.area _DATA
                             17 ;--------------------------------------------------------
                             18 ; ram data
                             19 ;--------------------------------------------------------
                             20 	.area _INITIALIZED
                             21 ;--------------------------------------------------------
                             22 ; absolute external ram data
                             23 ;--------------------------------------------------------
                             24 	.area _DABS (ABS)
                             25 ;--------------------------------------------------------
                             26 ; global & static initialisations
                             27 ;--------------------------------------------------------
                             28 	.area _HOME
                             29 	.area _GSINIT
                             30 	.area _GSFINAL
                             31 	.area _GSINIT
                             32 ;--------------------------------------------------------
                             33 ; Home
                             34 ;--------------------------------------------------------
                             35 	.area _HOME
                             36 	.area _HOME
                             37 ;--------------------------------------------------------
                             38 ; code
                             39 ;--------------------------------------------------------
                             40 	.area _CODE
                             41 ;../_strncpy.c:33: char *strncpy (
                             42 ;	---------------------------------
                             43 ; Function strncpy
                             44 ; ---------------------------------
   0000                      45 _strncpy_start::
   0000                      46 _strncpy:
   0000 54            [ 4]   47 	push	ix
   0001 3C 00 00      [ 4]   48 	ld	ix,#0
   0004 FE 14         [ 7]   49 	add	ix,sp
   0006 16 FD FF      [ 7]   50 	add	sp, #-3
                             51 ;../_strncpy.c:38: register char * d1 =  d;
   0009 F0 04 29      [11]   52 	ld	c,4 (ix)
   000C F0 05 28      [11]   53 	ld	b,5 (ix)
                             54 ;../_strncpy.c:40: while ( n && *s )
   000F 08            [ 4]   55 	ex	de, hl
   0010 F2 0B 4A      [10]   56 	ld	hl, 11 (sp)
   0013 08            [ 4]   57 	ex	de, hl
   0014 F2 09 4A      [10]   58 	ld	hl, 9 (sp)
   0017 50            [ 4]   59 	push	bc
   0018 5D            [ 4]   60 	pop	iy
   0019                      61 00102$:
   0019 22            [16]   62 	ld	a,d
   001A FB 66         [ 4]   63 	or	a,e
   001C C6 13         [ 7]   64 	jr	Z,00114$
   001E E2 2E         [10]   65 	ld	a,(hl)
   0020 F4 FF 26      [17]   66 	ld	-1 (ix), a
   0023 FE 66         [ 7]   67 	or	a, a
   0025 C6 0A         [ 7]   68 	jr	Z,00114$
                             69 ;../_strncpy.c:42: n-- ;
   0027 99            [ 4]   70 	dec	de
                             71 ;../_strncpy.c:43: *d++ = *s++ ;
   0028 F0 FF 2E      [11]   72 	ld	a,-1 (ix)
   002B 92            [ 4]   73 	inc	hl
   002C ED 26                74 	ld	0 (iy), a
   002E 95            [ 4]   75 	inc	iy
   002F C8 E8         [11]   76 	jr	00102$
                             77 ;../_strncpy.c:45: while ( n-- )
   0031                      78 00114$:
   0031 96            [ 7]   79 	inc	sp
   0032 96            [ 7]   80 	inc	sp
   0033 51            [ 4]   81 	push	de
   0034                      82 00105$:
   0034 59            [ 4]   83 	pop	de
   0035 51            [ 4]   84 	push	de
   0036 5A            [ 4]   85 	pop	hl
   0037 52            [ 4]   86 	push	hl
   0038 9A            [ 4]   87 	dec	hl
   0039 E6 52         [ 7]   88 	ex	(sp), hl
   003B 22            [16]   89 	ld	a,d
   003C FB 66         [ 4]   90 	or	a,e
   003E C6 06         [ 7]   91 	jr	Z,00107$
                             92 ;../_strncpy.c:47: *d++ = '\0' ;
   0040 ED 37 00             93 	ld	0 (iy), #0x00
   0043 95            [ 4]   94 	inc	iy
   0044 C8 EE         [11]   95 	jr	00105$
   0046                      96 00107$:
                             97 ;../_strncpy.c:49: return d1;
   0046 F9 35         [ 6]   98 	ld	l, c
   0048 F8 34         [11]   99 	ld	h, b
   004A FC 3E         [17]  100 	ld	sp, ix
   004C 5C            [ 4]  101 	pop	ix
   004D 1E            [ 7]  102 	ret
   004E                     103 _strncpy_end::
                            104 	.area _CODE
                            105 	.area _INITIALIZER
                            106 	.area _CABS (ABS)
